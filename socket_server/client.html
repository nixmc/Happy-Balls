<!doctype html>
<html>
  <head>
    <title>socket.io client test</title>
        
    <script src="/json.js"></script> <!-- for ie -->
    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    
    <script type="text/javascript">
        var socket = new io.Socket(null, {
            port: 8124, 
            rememberTransport: false
        });
        
        var send = function(message){
            socket.send(message);
        };
        
        socket.connect();
        socket.on('message', function(obj) {
            console.log("message", obj);
        });    
        socket.on('connect', function(){ 
            console.log({ message: ['System', 'Connected']})
        });
        socket.on('disconnect', function(){ console.log({ message: ['System', 'Disconnected']})});
        socket.on('reconnect', function(){ console.log({ message: ['System', 'Reconnected to server']})});
        socket.on('reconnecting', function( nextRetry ){ console.log({ message: ['System', 'Attempting to re-connect to the server, next attempt in ' + nextRetry + 'ms']})});
        socket.on('reconnect_failed', function(){ console.log({ message: ['System', 'Reconnected to server FAILED.']})});        
    </script>
    
  </head>
  <body>
    
    <h1>Sample socket client</h1>
    
  </body>
</html>
